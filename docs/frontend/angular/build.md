[Back](../angular.md)

## The "PROD" build

Project generated by Angular CLI comes only with a very simple ng build script out of the box. To generate production grade artifacts we have to do a bit of customization ourselves.

We add "build:prod": "ng build --target production --build-optimizer --vendor-chunk" to our package.json scripts.

### Target Production
This one is an umbrella flag which enables code minification and lot of useful build flags by default. It is equivalent to using following…

--environment prod —use environment.prod.ts file for environment variables

--aot — enable Ahead-of-Time compilation. This will become a default setting in future versions of Angular CLI but for now we have to enable this manually

--output-hashing all — hash contents of the generated files and append hash to the file name to facilitate browser cache busting (any change to file content will result in different hash and hence browser is forced to load a new version of the file)

--extract-css true — extract all the css into separate style-sheet file

--sourcemaps false — disable generation of source maps

--named-chunks false — disable using human readable names for chunk and use numbers instead

### Other useful flags

--build-optimizer — new feature which results in smaller bundles but much longer build times so use with caution! (also should be enabled by default in the future)

--vendor-chunk — extract all vendor (library) code into separate chunk